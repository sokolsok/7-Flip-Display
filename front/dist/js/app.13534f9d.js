(function(){"use strict";var e={3452:function(e,o,t){var n=t(5130),r=t(6768),i=t(4232);const a=["disabled"];function l(e,o,t,n,l,s){const u=(0,r.g2)("Block"),c=(0,r.g2)("Results"),d=(0,r.g2)("WifiConfig");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("h1",null,"Ninja reaction timer ("+(0,i.v_)(l.displayValue)+") ",1),(0,r.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>s.start&&s.start(...e)),disabled:l.isPlaying},"Play",8,a),l.isPlaying?((0,r.uX)(),(0,r.Wv)(u,{key:0,delay:l.delay,onEnd:s.endGame},null,8,["delay","onEnd"])):(0,r.Q3)("",!0),l.showResult?((0,r.uX)(),(0,r.Wv)(c,{key:1,score:l.score,onClose:s.closeScore},null,8,["score","onClose"])):(0,r.Q3)("",!0),(0,r.bF)(d)],64)}function s(e,o,t,n,i,a){return i.showBlock?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"block",onClick:o[0]||(o[0]=(...e)=>a.stopTimer&&a.stopTimer(...e))}," click me ")):(0,r.Q3)("",!0)}var u={props:["delay"],data(){return{showBlock:!1,timer:null,reactionTime:0}},mounted(){setTimeout((()=>{this.showBlock=!0,this.startTimer()}),this.delay)},methods:{startTimer(){this.timer=setInterval((()=>{this.reactionTime+=10}),10)},stopTimer(){clearInterval(this.timer),this.$emit("end",this.reactionTime)}}},c=t(1241);const d=(0,c.A)(u,[["render",s]]);var f=d;const p={class:"ersult"};function v(e,o,t,a,l,s){return(0,r.uX)(),(0,r.CE)("div",{class:"backdrop",onClick:o[0]||(o[0]=(0,n.D$)(((...e)=>s.closeScore&&s.closeScore(...e)),["self"]))},[(0,r.Lk)("div",p,[o[1]||(o[1]=(0,r.Lk)("p",null,"TwÃ³j czas to:",-1)),(0,r.Lk)("h1",null,(0,i.v_)(t.score),1)])])}var h={props:["score"],methods:{closeScore(){this.$emit("close")}}};const m=(0,c.A)(h,[["render",v]]);var y=m,k=t(4373),g=t(144);const b={class:"wifi-config"},w={key:0};var L={__name:"WifiConfig",setup(e){const o=(0,g.KR)(""),t=(0,g.KR)("AP"),a=(0,g.KR)(""),l=(0,g.KR)("");async function s(){try{const e=await fetch("/api/v1/mode");if(e.ok){const n=await e.json();o.value=n.mode,t.value=n.mode,a.value=n.ssid||"",l.value=""}else console.error("Failed to fetch configuration")}catch(e){console.error("Error fetching configuration:",e)}}async function u(){const e={mode:t.value};"STA"===t.value&&(e.ssid=a.value,e.password=l.value);try{const o=await fetch("/api/v1/mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(o.ok){const e=await o.text();alert(e)}else alert("Failed to update configuration")}catch(o){console.error("Error updating configuration:",o),alert("Error updating configuration")}}return(0,r.sV)((()=>{s()})),(e,s)=>((0,r.uX)(),(0,r.CE)("div",b,[s[8]||(s[8]=(0,r.Lk)("h2",null,"Wi-Fi Configuration",-1)),(0,r.Lk)("div",null,[(0,r.Lk)("label",null,"Current Mode: "+(0,i.v_)(o.value),1)]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"ap",value:"AP","onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e)},null,512),[[n.XL,t.value]]),s[4]||(s[4]=(0,r.Lk)("label",{for:"ap"},"Access Point (Hotspot)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"sta",value:"STA","onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},null,512),[[n.XL,t.value]]),s[5]||(s[5]=(0,r.Lk)("label",{for:"sta"},"Wi-Fi Client (Station)",-1))]),"STA"===t.value?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("div",null,[s[6]||(s[6]=(0,r.Lk)("label",{for:"ssid"},"SSID:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"ssid","onUpdate:modelValue":s[2]||(s[2]=e=>a.value=e),placeholder:"Enter SSID"},null,512),[[n.Jo,a.value]])]),(0,r.Lk)("div",null,[s[7]||(s[7]=(0,r.Lk)("label",{for:"password"},"Password:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[3]||(s[3]=e=>l.value=e),placeholder:"Enter password"},null,512),[[n.Jo,l.value]])])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:u},"Update Configuration")]))}};const C=(0,c.A)(L,[["__scopeId","data-v-827dcd0e"]]);var S=C,T={name:"App",components:{Block:f,Results:y,WifiConfig:S},data(){return{isPlaying:!1,delay:null,score:null,showResult:!1,displayValue:null}},methods:{start(){this.delay=2e3+5e3*Math.random(),this.isPlaying=!0,this.showResult=!1},endGame(e){this.score=e,this.isPlaying=!1,this.showResult=!0,k.A.post("/api/v1/score/my_score",{score:this.score}).then((e=>{console.log("Response from ESP32:",e.data)})).catch((e=>{console.error("Error sending data:",e)}))},closeScore(){this.showResult=!1}},mounted(){k.A.get("/api/v1/display").then((e=>{this.displayValue=e.data.display})).catch((e=>{console.error("Error fetching display value:",e)}))}};const E=(0,c.A)(T,[["render",l]]);var P=E;(0,n.Ef)(P).mount("#app")}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(o,n,r,i){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var l=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(c--,1);var u=r();void 0!==u&&(o=u)}}return o}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var r,i,a=n[0],l=n[1],s=n[2],u=0;if(a.some((function(o){return 0!==e[o]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(s)var c=s(t)}for(o&&o(n);u<a.length;u++)i=a[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},n=self["webpackChunkreaction_timer"]=self["webpackChunkreaction_timer"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(3452)}));n=t.O(n)})();